<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Renewal Deathmarch Timeline</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: #2c3e50;
            min-height: 100vh;
            color: #333;
            overflow-x: hidden;
        }

        .hero-header {
            height: 100vh;
            display: flex;
            align-items: flex-start;
            justify-content: center;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            text-align: center;
            position: relative;
            overflow: hidden;
            padding-top: 33vh;
        }

        .hero-header h1 {
            font-size: 4rem;
            font-weight: 700;
            margin-bottom: 1rem;
            text-shadow: 0 4px 8px rgba(0,0,0,0.3);
            opacity: 0;
            transform: translateY(50px);
            animation: fadeInUp 1s ease-out 0.5s forwards;
        }

        .hero-header p {
            font-size: 1.5rem;
            opacity: 0;
            transform: translateY(30px);
            animation: fadeInUp 1s ease-out 1s forwards;
            margin-bottom: 2rem;
        }

        .get-started-btn {
            display: inline-block;
            padding: 1rem 2.5rem;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            text-decoration: none;
            border-radius: 50px;
            font-weight: 600;
            font-size: 1.2rem;
            transition: all 0.3s ease;
            border: 2px solid rgba(255, 255, 255, 0.3);
            opacity: 0;
            transform: translateY(30px);
            animation: fadeInUp 1s ease-out 1.5s forwards;
            cursor: pointer;
        }

        .get-started-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        }

        @keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .timeline-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 4rem 2rem;
            position: relative;
            min-height: 1600vh;
        }

        .timeline-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(44, 62, 80, 0.8);
            z-index: 10;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.5s ease;
        }

        .timeline-overlay.visible {
            opacity: 1;
        }

        .timeline {
            position: relative;
            display: flex;
            gap: 4rem;
            margin-top: 2rem;
        }

        .timeline-line {
            position: sticky;
            top: 50%;
            transform: translateY(-50%);
            width: 400px;
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 2rem 0;
            z-index: 20;
        }

        .timeline-vertical-line {
            position: absolute;
            left: 50%;
            top: 0;
            bottom: 0;
            width: 2px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 1px;
        }

        .timeline-point {
            position: absolute;
            display: flex;
            align-items: center;
            gap: 1rem;
            cursor: pointer;
            transition: all 0.8s ease;
            z-index: 25;
            padding: 0.5rem;
            margin-left: 50px;
            opacity: 0;
            transform: translateY(200px);
        }

        .timeline-point.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .timeline-point.fade-out {
            opacity: 0;
            transform: translateY(-200px);
        }

        .timeline-point:hover {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
        }

        .timeline-point.active .timeline-circle {
            background: #e74c3c;
            transform: scale(1.3);
            box-shadow: 0 0 20px rgba(231, 76, 60, 0.5);
        }

        .timeline-circle {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #3498db;
            border: 2px solid rgba(255, 255, 255, 0.8);
            transition: all 0.3s ease;
            position: relative;
        }



        .timeline-label {
            color: white;
            font-weight: 600;
            font-size: 1.1rem;
            white-space: nowrap;
        }

        .timeline-content {
            flex: 1;
            position: relative;
        }

        .info-card {
            position: absolute;
            background: #3498db;
            border-radius: 12px;
            padding: 2rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            opacity: 0;
            visibility: hidden;
            transition: all 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            max-width: 500px;
            z-index: 20;
            left: 450px;
            top: 0;
        }

        .info-card::before {
            content: '';
            position: absolute;
            left: -15px;
            top: 50%;
            transform: translateY(-50%);
            width: 0;
            height: 0;
            border-top: 15px solid transparent;
            border-bottom: 15px solid transparent;
            border-right: 15px solid #3498db;
        }

        .info-card.visible {
            opacity: 1;
            visibility: visible;
        }

        .info-card h3 {
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 1rem;
            color: white;
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .info-card .day-number {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 1rem;
            font-weight: 600;
        }

        .info-card p {
            font-size: 1rem;
            line-height: 1.6;
            color: rgba(255, 255, 255, 0.9);
            margin-bottom: 1.5rem;
        }

        .info-card .stats {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .stat-item {
            text-align: center;
            padding: 1rem;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
        }

        .stat-number {
            font-size: 1.5rem;
            font-weight: 700;
            color: white;
            display: block;
        }

        .stat-label {
            font-size: 0.8rem;
            color: rgba(255, 255, 255, 0.8);
            margin-top: 0.5rem;
        }

        .info-card .cta-btn {
            display: inline-block;
            padding: 0.8rem 1.5rem;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            text-decoration: none;
            border-radius: 25px;
            font-weight: 600;
            transition: all 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .info-card .cta-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
        }

        @media (max-width: 1024px) {
            .timeline {
                flex-direction: column;
                gap: 2rem;
            }

            .timeline-line {
                position: relative;
                top: auto;
                transform: none;
                width: 100%;
                height: auto;
                flex-direction: row;
                justify-content: space-around;
                padding: 2rem 0;
            }

            .timeline-vertical-line {
                display: none;
            }

            .timeline-point {
                flex-direction: column;
                gap: 0.5rem;
            }

            .info-card {
                position: relative;
                top: auto;
                transform: none;
                max-width: none;
            }

            .info-card::before {
                display: none;
            }
        }

        @media (max-width: 768px) {
            .hero-header h1 {
                font-size: 2.5rem;
            }

            .timeline-circle {
                width: 16px;
                height: 16px;
            }

            .timeline-label {
                font-size: 0.9rem;
            }

            .info-card {
                padding: 1.5rem;
            }

            .info-card h3 {
                font-size: 1.4rem;
            }
        }
    </style>
</head>
<body>
    <div class="hero-header">
        <div>
            <h1>The Renewal Deathmarch</h1>
            <p>Scroll to explore the 210-day contract renewal journey</p>
            <button class="get-started-btn" id="getStartedBtn">Get Started</button>
        </div>
    </div>

    <div class="timeline-overlay"></div>
    <div class="timeline-container">
        <div class="timeline">
            <div class="timeline-line">
                <div class="timeline-vertical-line"></div>
                <div class="timeline-point" data-section="1" style="top: 50%;">
                    <div class="timeline-circle"></div>
                    <div class="timeline-label">Day 1</div>
                </div>
                <div class="timeline-point" data-section="2" style="top: 250%;">
                    <div class="timeline-circle"></div>
                    <div class="timeline-label">Day 30</div>
                </div>
                <div class="timeline-point" data-section="3" style="top: 450%;">
                    <div class="timeline-circle"></div>
                    <div class="timeline-label">Day 60</div>
                </div>
                <div class="timeline-point" data-section="4" style="top: 650%;">
                    <div class="timeline-circle"></div>
                    <div class="timeline-label">Day 90</div>
                </div>
                <div class="timeline-point" data-section="5" style="top: 850%;">
                    <div class="timeline-circle"></div>
                    <div class="timeline-label">Day 120</div>
                </div>
                <div class="timeline-point" data-section="6" style="top: 1050%;">
                    <div class="timeline-circle"></div>
                    <div class="timeline-label">Day 150</div>
                </div>
                <div class="timeline-point" data-section="7" style="top: 1250%;">
                    <div class="timeline-circle"></div>
                    <div class="timeline-label">Day 180</div>
                </div>
                <div class="timeline-point" data-section="8" style="top: 1450%;">
                    <div class="timeline-circle"></div>
                    <div class="timeline-label">Day 210</div>
                </div>
            </div>

            <div class="timeline-content">
                <!-- Timeline content area -->
            </div>
        </div>

        <!-- Info cards positioned outside timeline for better control -->
        <div class="info-card" data-section="1">
            <h3><span class="day-number">Day 1</span>Contract Initiation</h3>
            <p>The renewal deathmarch begins. Initial review of current terms and conditions. Stakeholder alignment meeting scheduled. The clock starts ticking.</p>
            <div class="stats">
                <div class="stat-item">
                    <span class="stat-number">24h</span>
                    <span class="stat-label">Response Time</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number">5</span>
                    <span class="stat-label">Team Members</span>
                </div>
            </div>
            <button class="cta-btn">View Details</button>
        </div>

        <div class="info-card" data-section="2">
            <h3><span class="day-number">Day 30</span>Performance Review</h3>
            <p>Comprehensive performance analysis completed. Key metrics evaluated against contract terms. Preliminary recommendations prepared. The grind continues.</p>
            <div class="stats">
                <div class="stat-item">
                    <span class="stat-number">95%</span>
                    <span class="stat-label">Performance Score</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number">12</span>
                    <span class="stat-label">KPIs Tracked</span>
                </div>
            </div>
            <button class="cta-btn">Review Report</button>
        </div>

        <div class="info-card" data-section="3">
            <h3><span class="day-number">Day 60</span>Stakeholder Meeting</h3>
            <p>Formal stakeholder alignment session. Performance review presented. Initial renewal terms discussed and feedback collected. The marathon continues.</p>
            <div class="stats">
                <div class="stat-item">
                    <span class="stat-number">8</span>
                    <span class="stat-label">Stakeholders</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number">2h</span>
                    <span class="stat-label">Meeting Duration</span>
                </div>
            </div>
            <button class="cta-btn">Meeting Notes</button>
        </div>

        <div class="info-card" data-section="4">
            <h3><span class="day-number">Day 90</span>Draft Proposal</h3>
            <p>Renewal proposal draft completed. Terms and conditions updated based on performance and stakeholder feedback. The end is in sight.</p>
            <div class="stats">
                <div class="stat-item">
                    <span class="stat-number">15</span>
                    <span class="stat-label">Clauses Updated</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number">3</span>
                    <span class="stat-label">Draft Versions</span>
                </div>
            </div>
            <button class="cta-btn">View Proposal</button>
        </div>

        <div class="info-card" data-section="5">
            <h3><span class="day-number">Day 120</span>Legal Review</h3>
            <p>Legal team review completed. All terms validated for compliance. Risk assessment finalized. Ready for client presentation. Almost there.</p>
            <div class="stats">
                <div class="stat-item">
                    <span class="stat-number">100%</span>
                    <span class="stat-label">Compliance</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number">5</span>
                    <span class="stat-label">Risk Factors</span>
                </div>
            </div>
            <button class="cta-btn">Legal Summary</button>
        </div>

        <div class="info-card" data-section="6">
            <h3><span class="day-number">Day 150</span>Client Presentation</h3>
            <p>Formal presentation to client. Renewal proposal delivered. Key benefits and value propositions highlighted. Client feedback received. The final push.</p>
            <div class="stats">
                <div class="stat-item">
                    <span class="stat-number">90%</span>
                    <span class="stat-label">Client Satisfaction</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number">6</span>
                    <span class="stat-label">Questions Addressed</span>
                </div>
            </div>
            <button class="cta-btn">Presentation Deck</button>
        </div>

        <div class="info-card" data-section="7">
            <h3><span class="day-number">Day 180</span>Negotiation Phase</h3>
            <p>Active negotiation period. Client feedback incorporated. Final terms refined. Agreement in principle reached. The finish line approaches.</p>
            <div class="stats">
                <div class="stat-item">
                    <span class="stat-number">85%</span>
                    <span class="stat-label">Terms Agreed</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number">4</span>
                    <span class="stat-label">Negotiation Rounds</span>
                </div>
            </div>
            <button class="cta-btn">Track Progress</button>
        </div>

        <div class="info-card" data-section="8">
            <h3><span class="day-number">Day 210</span>Contract Signed</h3>
            <p>Contract renewal successfully completed. All parties have signed. New terms effective immediately. The deathmarch is finally over.</p>
            <div class="stats">
                <div class="stat-item">
                    <span class="stat-number">100%</span>
                    <span class="stat-label">Completion</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number">210</span>
                    <span class="stat-label">Days Total</span>
                </div>
            </div>
            <button class="cta-btn">View Contract</button>
        </div>
        </div>
    </div>

    <script>
        class TimelineController {
            constructor() {
                this.points = document.querySelectorAll('.timeline-point');
                this.cards = document.querySelectorAll('.info-card');
                this.currentSection = 1;
                this.headerHeight = window.innerHeight;
                
                this.init();
            }

            init() {
                this.setupEventListeners();
                this.handleScroll();
            }

            setupEventListeners() {
                // Get Started button handler
                const getStartedBtn = document.getElementById('getStartedBtn');
                if (getStartedBtn) {
                    getStartedBtn.addEventListener('click', () => {
                        this.scrollToDay1();
                    });
                }

                // Point click handlers - scroll to center the clicked point
                this.points.forEach(point => {
                    point.addEventListener('click', (e) => {
                        const sectionNum = parseInt(e.currentTarget.dataset.section);
                        this.scrollToSection(sectionNum);
                    });
                });

                // Scroll handler
                window.addEventListener('scroll', () => {
                    requestAnimationFrame(() => {
                        this.handleScroll();
                    });
                });
            }

            scrollToDay1() {
                const timelineContainer = document.querySelector('.timeline-container');
                const containerTop = timelineContainer.offsetTop;
                const day1Point = document.querySelector('.timeline-point[data-section="1"]');
                
                if (day1Point) {
                    // Calculate position to center Day 1
                    const pointTop = parseInt(day1Point.style.top) / 100 * window.innerHeight;
                    const scrollTarget = containerTop + pointTop - (window.innerHeight / 2);
                    
                    // Smooth scroll to Day 1
                    window.scrollTo({
                        top: scrollTarget,
                        behavior: 'smooth'
                    });
                    
                    // Show Day 1 card after scroll completes
                    setTimeout(() => {
                        this.showCardForSection(1);
                    }, 1000);
                }
            }

            scrollToSection(sectionNum) {
                const targetPoint = document.querySelector(`.timeline-point[data-section="${sectionNum}"]`);
                if (targetPoint) {
                    const timelineContainer = document.querySelector('.timeline-container');
                    const containerTop = timelineContainer.offsetTop;
                    const pointTop = parseInt(targetPoint.style.top) / 100 * window.innerHeight;
                    const scrollTarget = containerTop + pointTop - (window.innerHeight / 2);
                    
                    window.scrollTo({
                        top: scrollTarget,
                        behavior: 'smooth'
                    });
                }
            }

            handleScroll() {
                const scrollY = window.scrollY;
                const timelineContainer = document.querySelector('.timeline-container');
                const containerTop = timelineContainer.offsetTop;
                const overlay = document.querySelector('.timeline-overlay');
                
                console.log(`Scroll Y: ${scrollY}, Header Height: ${this.headerHeight}`);
                
                // Only start timeline behavior after header is off screen
                if (scrollY < this.headerHeight) {
                    this.hideAllPoints();
                    this.hideAllCards();
                    if (overlay) overlay.classList.remove('visible');
                    console.log('Header still visible, hiding all points and overlay');
                    return;
                }

                // Show overlay when header is off screen
                if (overlay) overlay.classList.add('visible');

                // Calculate relative scroll within timeline
                const timelineScroll = scrollY - this.headerHeight;
                const viewportHeight = window.innerHeight;
                console.log(`Timeline scroll: ${timelineScroll}, Viewport height: ${viewportHeight}`);
                
                // Handle each timeline point
                this.points.forEach((point, index) => {
                    const sectionNum = index + 1;
                    const pointTop = parseInt(point.style.top) / 100 * viewportHeight;
                    const pointScroll = pointTop;
                    
                    // Calculate visibility based on scroll position - fade in from bottom
                    const fadeInStart = pointScroll - viewportHeight * 0.1; // Start fade in when point is at bottom
                    const fadeInEnd = pointScroll + viewportHeight * 0.3;   // End fade in when point is 30% up
                    const fadeOutStart = pointScroll + viewportHeight * 0.7; // Start fade out when point is 70% up
                    const fadeOutEnd = pointScroll + viewportHeight * 1.1;   // End fade out when point is near top
                    
                    let opacity = 0;
                    let isActive = false;
                    
                    if (timelineScroll >= fadeInStart && timelineScroll <= fadeOutEnd) {
                        if (timelineScroll <= fadeInEnd) {
                            // Fading in from bottom
                            opacity = (timelineScroll - fadeInStart) / (fadeInEnd - fadeInStart);
                        } else if (timelineScroll >= fadeOutStart) {
                            // Fading out to top
                            opacity = 1 - (timelineScroll - fadeOutStart) / (fadeOutEnd - fadeOutStart);
                        } else {
                            // Fully visible
                            opacity = 1;
                            isActive = true;
                        }
                    }
                    
                    // Update point visibility with bottom-to-top transform
                    point.style.opacity = opacity;
                    point.style.transform = `translateY(${(1 - opacity) * 200}px)`;
                    
                    console.log(`Section ${sectionNum}: opacity=${opacity}, isActive=${isActive}`);
                    
                    // Handle card visibility for active point
                    if (isActive) {
                        this.showCardForSection(sectionNum);
                    } else {
                        this.hideCard(sectionNum);
                    }
                });
            }

            showCardForSection(sectionNum) {
                const targetCard = document.querySelector(`.info-card[data-section="${sectionNum}"]`);
                const activePoint = document.querySelector(`.timeline-point[data-section="${sectionNum}"]`);
                
                if (targetCard && activePoint) {
                    // Position card relative to active point
                    const pointRect = activePoint.getBoundingClientRect();
                    const cardTop = pointRect.top - (targetCard.offsetHeight / 2) + (pointRect.height / 2);
                    targetCard.style.top = `${cardTop}px`;
                    targetCard.classList.add('visible');
                }
            }

            hideCard(sectionNum) {
                const targetCard = document.querySelector(`.info-card[data-section="${sectionNum}"]`);
                if (targetCard) {
                    targetCard.classList.remove('visible');
                }
            }

            hideAllPoints() {
                this.points.forEach(point => {
                    point.style.opacity = 0;
                    point.style.transform = 'translateY(200px)';
                });
                
                // Hide overlay
                const overlay = document.querySelector('.timeline-overlay');
                if (overlay) overlay.classList.remove('visible');
            }

            hideAllCards() {
                this.cards.forEach(card => {
                    card.classList.remove('visible');
                });
            }
        }

        // Initialize timeline when DOM is loaded
        document.addEventListener('DOMContentLoaded', () => {
            new TimelineController();
        });
    </script>
</body>
</html> 